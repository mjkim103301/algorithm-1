# BOJ 2504ë²ˆ [ê´„í˜¸ì˜ ê°’](https://www.acmicpc.net/problem/2504)

## ğŸŒˆ í’€ì´ í›„ê¸°

ì´ì „ ì½”ë”©í…ŒìŠ¤íŠ¸ì—ì„œ ê´„í˜¸ì˜ ìŠ¤íƒì„ ê°€ì§€ê³  í‘¸ëŠ” ë¬¸ì œê°€ ë‚˜ì™”ì–´ì„œ ê³ ìƒí–ˆë˜ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤. ëë‚˜ê³  ì´ ë¬¸ì œë¥¼ í•œë²ˆ í’€ì–´ë´¤ì—ˆëŠ”ë° ì˜¤ëœë§Œì— ë³´ë‹ˆ ì—¬ì „íˆ ìŠ¤íƒ ë¬¸ì œëŠ” ì–´ë ¤ìš´ê±° ê°™ìŠµë‹ˆë‹¤..

ì´ì „ì— í’€ì—ˆì„ ë•ŒëŠ” ê·œì¹™ì„ ë”°ë¼ê°€ë©´ì„œ ê¸¸ê³  ë³µì¡í•˜ê²Œ í’€ì–´ë´¤ì–´ì„œ ì´ë²ˆì—ëŠ” ê´„í˜¸ë¥¼ ê°€ì§€ê³  ê·œì¹™ì„ ì°¾ì•„ë³´ë ¤ê³  ì—´ì‹¬íˆ ê·¸ë ¤ë´¤ìŠµë‹ˆë‹¤. 

 ê´„í˜¸ì˜ ì¤‘ì²©ì— ë”°ë¼ì„œ í˜„ì¬ valueë¥¼ ì˜ ì—…ë°ì´íŠ¸ í•˜ì—¬ í™œìš©í•˜ë©´ ê¹”ë”í•˜ê²Œ í’€ ìˆ˜ ìˆëŠ” ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.  

## ğŸ‘©â€ğŸ« ë¬¸ì œ í’€ì´

**í•µì‹¬ ì›ë¦¬**

 0. ì´ˆê¸°ê°’ìœ¼ë¡œ curValue(í˜„ì¬ ê°’)ë¥¼ 1ë¡œ, answerëŠ” 0ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. 

1. '(' í˜¹ì€ '[' ê°€ ì˜¤ë©´ stackì„ ë‘ê°œë¡œ ë‚˜ëˆ ì„œ ì†Œê´„í˜¸ëŠ” stackSì— ëŒ€ê´„í˜¸ëŠ” stackBì— ì €ì¥í•˜ê³  curValueë¥¼ ê°ê° *2, *3ì„ í•´ì¤ë‹ˆë‹¤.
2. ')' ë‚˜ ']' ì´ ì˜¤ë©´ ê° ê´„í˜¸ì— ë§ì¶°ì„œ ë¹„ì–´ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
3. ìŠ¤íƒì´ ë¹„ì–´ìˆë‹¤ë©´ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°ì´ê¸°ì— ë°˜ë³µë¬¸ì„ íƒˆì¶œí•©ë‹ˆë‹¤.

3-2. ìŠ¤íƒì´ ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´ í˜„ì¬ ê²€ì‚¬í•˜ëŠ” ìœ„ì¹˜ì˜ ë°”ë¡œ ì „ì´ ë¬´ì—‡ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.

4. ë§Œì•½ ë°”ë¡œ ë‹«í˜€ìˆë‹¤ë©´ ) ì˜ ê²½ìš° () , ] ì˜ ê²½ìš° [ ] ì˜ ê²½ìš°ë¼ë©´ curValueë¥¼ answerì— ë”í•´ì¤ë‹ˆë‹¤. 

5. ê·¸ë¦¬ê³  ê° ê´„í˜¸ì˜ stackì—ì„œ popì„ í•´ì¤€ë’¤ ê´„í˜¸ì— ë§ê²Œ curValueì— ë§ê²Œ /2 , /3ì„ í•´ì¤ë‹ˆë‹¤. 

**ì˜ˆì‹œ**

ex) (()[[]])

```java
(  // answer => 0 ,curValue *2 =>  2
(( // answer => 0 ,curValue *2 => 4
(() // answer => 4 ,curValue => 2
(()[ // answer =>4 ,curValue => 6
(()[[ // answer =>4 ,curValue => 18
(()[[] // answer =>22 , curValue => 6
(()[[]] // answer => 22,curValue =>2
(()[[]]) // answer =>22 ,curValue=>1
```

()ì•ˆì— ìˆë‹¤ë©´ *2 , []ì•ˆì— ìˆë‹¤ë©´ *3ì„ ì´ìš©í–ˆê³  ì˜¬ë°”ë¥¸ ê´„í˜¸ì—´ì´ ë¶™ì–´ìˆë‹¤ë©´ ë”í•´ì£¼ëŠ” ê·œì¹™ì„ ì´ìš©í–ˆìŠµë‹ˆë‹¤. 

(()[[]]) ì´ë€ ê²°êµ­ 2*2 + 2*3*3 

**í•µì‹¬ ì½”ë“œ**

```java
for(int i=0;i<str.length();i++) {
			char c=str.charAt(i);
			if(c=='(' || c=='[') {
				if(c=='(') {
					stackS.push(c);
					curValue *=2;
				} else { // c=='[' 
					stackB.push(c);
					curValue *=3;
				}
			}else { // ch => ) || ]
				if(c==')') {
					if(stackS.isEmpty()) {
						isValid=false;
						break;
					}
					if(str.charAt(i-1) == '(')
						answer+=curValue;
					stackS.pop();
					curValue/=2;
				} else { // ]
					if(stackB.isEmpty()) {
						isValid=false;
						break;
					}
					if(str.charAt(i-1)=='[')
						answer+=curValue;
					stackB.pop();
					curValue/=3;
				}
			}
			
		}
```
